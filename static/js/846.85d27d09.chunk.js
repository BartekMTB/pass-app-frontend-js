"use strict";(self.webpackChunkpass_app_frontend_js=self.webpackChunkpass_app_frontend_js||[]).push([[846],{5363:(s,e,a)=>{a.d(e,{c4:()=>i,gP:()=>r,qI:()=>n,x2:()=>d});const t=a(3233).g.injectEndpoints({endpoints:s=>({getPasses:s.query({query:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return console.log("page",s),{url:"/passes/?limit=6&page=".concat(s)}},providesTags:["Passes"]}),getPassById:s.query({query:s=>({url:"/passes/".concat(s)}),providesTags:["Passes"],transformResponse:s=>s.contactfound}),newPass:s.mutation({query(s){const{...e}=s;return{url:"/passes/add",method:"POST",body:e}},invalidatesTags:["Passes"]}),updatePass:s.mutation({query:s=>{let{_id:e,data:a}=s;return{url:"/passes/".concat(e),method:"PUT",body:a}},invalidatesTags:["Passes"]})})}),{useGetPassesQuery:n,useNewPassMutation:i,useGetPassByIdQuery:r,useUpdatePassMutation:d}=t},8846:(s,e,a)=>{a.r(e),a.d(e,{default:()=>_});const t="passesPage_container__066C8";var n=a(4270),i=a(2791),r=a(5363);const d="PassesList_passesList__QvG5l",c="PassesList_passesItem__z2KQG",o="PassesList_passBtn__Ehkg5";var l=a(7689),u=a(7520),p=a(598),g=a(2100),h=a(9640),P=a(824),j=a(184);const x=()=>{const s=(0,l.s0)(),[e,a]=i.useState(1),{data:t,isLoading:n,isSuccess:x,isError:_,isFetching:y,error:m}=(0,r.qI)(e);let b="";return n?b=(0,j.jsx)("p",{children:"Loading..."}):_?b=(0,j.jsx)("div",{children:m.toString()}):x&&(b=t.results),(0,j.jsxs)("div",{children:[(0,j.jsxs)(p.U,{spacing:"14px",children:[(0,j.jsx)(g.z,{onClick:()=>a((s=>s-1)),isLoading:y,disabled:1===e,children:(0,j.jsx)(h.J,{as:u.KYK})}),(0,j.jsx)(g.z,{onClick:()=>a((s=>s+1)),isLoading:y,disabled:e===b.totalPages,children:(0,j.jsx)(h.J,{as:u.hdK})}),(0,j.jsx)(P.xu,{children:"".concat(e," / ").concat(b.totalPages)})]}),(0,j.jsx)("ul",{className:d,children:Array.isArray(b.docs)?b.docs.map((e=>{let{_id:a,passNumber:t,personOnPassCompany:n,baseCreatingPass:i}=e;return(0,j.jsxs)("li",{className:c,children:[(0,j.jsxs)("p",{children:[t,", ",n,", ",i]}),(0,j.jsx)("button",{className:o,type:"button",onClick:()=>{console.log("clicked ",a),s("/editpass",{state:{_id:a}})},children:"Edit"}),(0,j.jsx)("button",{className:o,type:"button",onClick:()=>{console.log("clicked ",a),s("/printout",{state:{_id:a}})},children:"Print"})]},a)})):null})]})},_=()=>(0,j.jsxs)("div",{className:t,children:[(0,j.jsx)(n.q,{children:(0,j.jsx)("title",{children:"Passes list page"})}),(0,j.jsx)("div",{children:(0,j.jsx)(x,{})})]})}}]);
//# sourceMappingURL=846.85d27d09.chunk.js.map